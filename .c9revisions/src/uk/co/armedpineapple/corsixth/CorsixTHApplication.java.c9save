{"ts":1353860332750,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\n *   Copyright (C) 2012 Alan Woolley\n *   \n *   See LICENSE.TXT for full license\n */\npackage uk.co.armedpineapple.corsixth;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\n\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.util.Log;\n\nimport com.bugsense.trace.BugSenseHandler;\n\npublic class CorsixTHApplication extends android.app.Application {\n\n\tpublic static final String PREFERENCES_KEY = \"cthprefs\";\n\tprivate SharedPreferences preferences;\n\tprivate Configuration configuration;\n\tprivate Properties properties = new Properties();\n\n\t@Override\n\tpublic void onCreate() {\n\t\tsuper.onCreate();\n\n\t\tpreferences = getSharedPreferences(PREFERENCES_KEY,\n\t\t\t\tContext.MODE_PRIVATE);\n\n\t\tconfiguration = Configuration.loadFromPreferences(this, preferences);\n\n\t\t/*\n\t\t * BugSense helps to discover bugs by reporting unhandled exceptions. If\n\t\t * you want to use this, create a file called application.properties in\n\t\t * the assets folder and insert the line:\n\t\t * \n\t\t * bugsense.key=<your API key>\n\t\t */\n\n\t\ttry {\n\t\t\tInputStream inputStream = getAssets()\n\t\t\t\t\t.open(\"application.properties\");\n\t\t\tLog.d(getClass().getSimpleName(), \"Loading properties\");\n\t\t\tproperties.load(inputStream);\n\t\t\tsetupBugsense();\n\n\t\t} catch (IOException e) {\n\t\t\tLog.i(getClass().getSimpleName(), \"No properties file found\");\n\t\t}\n\n\t}\n\n\tprivate void setupBugsense() {\n\t\tif (properties.containsKey(\"bugsense.key\")) {\n\t\t\tLog.d(getClass().getSimpleName(), \"Setting up bugsense\");\n\t\t\tBugSenseHandler.initAndStartSession(this,\n\t\t\t\t\t(String) properties.get(\"bugsense.key\"));\n\t\t}\n\t}\n\n\tpublic SharedPreferences getPreferences() {\n\t\treturn preferences;\n\n\t}\n\n\tpublic Configuration getConfiguration() {\n\t\treturn configuration;\n\t}\n\n\tpublic Properties getProperties() {\n\t\treturn properties;\n\t}\n\n}\n"]],"start1":0,"start2":0,"length1":0,"length2":1823}]],"length":1823}
