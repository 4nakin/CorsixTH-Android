{"ts":1354186173302,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"package uk.co.armedpineapple.corsixth.dialogs;\n\nimport java.util.List;\n\nimport uk.co.armedpineapple.corsixth.Files.FileDetails;\nimport uk.co.armedpineapple.corsixth.R;\nimport android.content.Context;\nimport android.text.format.DateFormat;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.BaseAdapter;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\npublic class FilesAdapter extends BaseAdapter {\n\n\tContext\t\t\t\t\t\tcontext;\n\tList<FileDetails>\titems;\n\tboolean\t\t\t\t\t\tnewButton;\n\n\tpublic FilesAdapter(Context context, List<FileDetails> items,\n\t\t\tboolean newbutton) {\n\t\tthis.context = context;\n\t\tthis.items = items;\n\t\tthis.newButton = newbutton;\n\t}\n\n\t@Override\n\tpublic int getCount() {\n\t\treturn newButton ? items.size() + 1 : items.size();\n\t}\n\n\t@Override\n\tpublic Object getItem(int position) {\n\t\treturn items.get(position);\n\t}\n\n\t@Override\n\tpublic long getItemId(int position) {\n\t\treturn position;\n\t}\n\n\t@Override\n\tpublic View getView(int position, View convertView, ViewGroup parent) {\n\n\t\tView view;\n\n\t\tif (convertView != null) {\n\t\t\t// If we have a view we can use already, use it\n\t\t\tview = convertView;\n\t\t} else {\n\t\t\t// Otherwise, create a new one\n\t\t\tLayoutInflater inflater = (LayoutInflater) context\n\t\t\t\t\t.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\t\t\tview = inflater.inflate(R.layout.files_list, parent, false);\n\t\t}\n\n\t\tTextView largeText = (TextView) view.findViewById(R.id.saveGameLargeText);\n\t\tTextView smallText = (TextView) view.findViewById(R.id.saveGameSmallText);\n\t\tImageView image = (ImageView) view.findViewById(R.id.saveGameImage);\n\n\t\tif (position == 0 && newButton) {\n\n\t\t\t// If it's the first item and we are to show a new save button, make\n\t\t\t// sure the image is shown and the small text is hidden\n\n\t\t\timage.setVisibility(View.VISIBLE);\n\t\t\tsmallText.setVisibility(View.GONE);\n\n\t\t\t// TODO - make this string external\n\n\t\t\tlargeText.setText(R.string.new_save);\n\n\t\t} else {\n\t\t\tint actualPosition = newButton ? position - 1 : position;\n\n\t\t\t// If it's any other item, hide the image and show the small text\n\n\t\t\timage.setVisibility(View.GONE);\n\t\t\tsmallText.setVisibility(View.VISIBLE);\n\n\t\t\tFileDetails item = (FileDetails) getItem(actualPosition);\n\t\t\tString fileName = item.getFileName();\n\n\t\t\t// Show the file name, minus the extension\n\t\t\tlargeText.setText(fileName.substring(0, fileName.length() - 4));\n\n\t\t\tsmallText.setText(DateFormat.getDateFormat(context).format(\n\t\t\t\t\titem.getLastModified()));\n\n\t\t}\n\t\treturn view;\n\t}\n\n}\n"]],"start1":0,"start2":0,"length1":0,"length2":2518}]],"length":2518}
{"contributors":[],"silentsave":false,"ts":1354186180676,"patch":[[{"diffs":[[0,"Details>"],[1,"       "],[0,"\titems;\n"]],"start1":515,"start2":515,"length1":16,"length2":23}]],"length":2525,"saved":false}
{"ts":1354186202418,"patch":[[{"diffs":[[0,");\n\n"],[-1,"\t\t\t// TODO - make this string external\n\n"],[0,"\t\t\tl"]],"start1":1880,"start2":1880,"length1":48,"length2":8}]],"length":2485,"saved":false}
